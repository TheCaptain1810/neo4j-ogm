{
  "API_TEST_REQUESTS": {
    "BASE_URL": "http://localhost:8000",
    "DESCRIPTION": "Complete test suite for Neo4j FastAPI Document Management System",

    "1_CREATE_USER": {
      "method": "POST",
      "endpoint": "/users/",
      "body": {
        "id": "354a020c-cf84-4e30-afd3-07ba0b07c4fc",
        "email": "tom@hoppa.ai",
        "displayName": "Tom Goldsmith"
      }
    },

    "2_CREATE_FOLDER": {
      "method": "POST",
      "endpoint": "/folders/",
      "body": {
        "id": "01FCBACZKAABKJMBSJT5CJHMDH26OD3W33",
        "name": "Borehole Records - Petersfield",
        "path": "/Documents/Borehole Records - Petersfield",
        "driveType": "documentLibrary",
        "driveId": "01FCBACZFWRL22JSIMJAYZJ5UAYIDY36K",
        "siteId": "hoppa.sharepoint.com,5d2c3e4f-8a9b-4c5d-9e8f-1a2b3c4d5e6f"
      }
    },

    "3_CREATE_SESSION": {
      "method": "POST",
      "endpoint": "/sessions/",
      "body": {
        "sessionId": "soft-mails-cry",
        "sessionName": "Engineering Design - Ground Investigation Records",
        "createdAt": "2024-12-17T10:31:25Z",
        "createdBy": "Tom Goldsmith",
        "fileCount": 156,
        "completedAt": null,
        "status": "draft",
        "warnings": 3,
        "rowCount": 156
      }
    },

    "4_CREATE_DOCUMENT": {
      "method": "POST",
      "endpoint": "/documents/",
      "body": {
        "id": "01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K",
        "name": "BGS borehole 426100 (SU72SW51).pdf",
        "label": "BGS borehole 426100 (SU72SW51).pdf",
        "size": 3040,
        "file_name": "BGS borehole 426100 (SU72SW51).pdf",
        "source": "sharepoint",
        "type": "application/pdf",
        "createdDateTime": "2024-12-17T10:31:25Z",
        "lastModifiedDateTime": "2024-12-17T10:31:25Z",
        "webUrl": "https://hoppa.sharepoint.com/sites/EngineeringDesign/Shared%20Documents/BGS%20borehole%20426100%20(SU72SW51).pdf",
        "downloadUrl": "https://hoppa.sharepoint.com/sites/EngineeringDesign/_layouts/15/download.aspx?share=EQNZjU2gJ3lOjZ2H8K9xBLkBr8vQ7YmPQr6LzVdGkF8qvA",
        "driveId": "01FCBACZFWRL22JSIMJAYZJ5UAYIDY36K",
        "siteId": "hoppa.sharepoint.com,5d2c3e4f-8a9b-4c5d-9e8f-1a2b3c4d5e6f",
        "status": "N/A",
        "description": "BGS borehole record for location 426100, reference SU72SW51, containing geological survey data from the British Geological Survey."
      }
    },

    "5_CREATE_FILE_METADATA": {
      "method": "POST",
      "endpoint": "/file-metadata/",
      "body": {
        "documentId": "01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K",
        "mimeType": "application/pdf",
        "quickXorHash": "uZTijpVYHMKh2+kKGEfHhqgBv3M=",
        "sharedScope": "users",
        "createdDateTime": "2024-12-17T10:31:25Z",
        "lastModifiedDateTime": "2024-12-17T10:31:25Z"
      }
    },

    "6_CREATE_VERSION": {
      "method": "POST",
      "endpoint": "/versions/",
      "body": {
        "documentId": "01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K",
        "eTag": "{AD57B405-4826-4162-8CA7-B406103C6FCA},1",
        "cTag": "c:{AD57B405-4826-4162-8CA7-B406103C6FCA},1",
        "timestamp": "2024-12-17T10:31:25Z",
        "versionNumber": 1
      }
    },

    "7_CREATE_CLASSIFIER": {
      "method": "POST",
      "endpoint": "/classifiers/",
      "body": {
        "id": "ISO1",
        "name": "Project",
        "isHierarchy": false,
        "parentId": null,
        "prompt": "Classify the project context of this document",
        "description": "Project classification according to ISO standards"
      }
    },

    "8_CREATE_CLASSIFIER_DATA": {
      "method": "POST",
      "endpoint": "/classifier-data/",
      "body": {
        "classifierId": "ISO1",
        "code": "PFPS",
        "description": "Petersfield Public Services",
        "prompt": "Identify if this document relates to Petersfield Public Services projects"
      }
    },

    "9_CREATE_CLASSIFICATION": {
      "method": "POST",
      "endpoint": "/classifications/",
      "body": {
        "documentId": "01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K",
        "classifierId": "ISO1",
        "code": "PFPS",
        "codeDescription": "Petersfield Public Services",
        "certainty": "high",
        "explanation": "Document clearly relates to Petersfield area geological survey which is part of public services infrastructure planning",
        "appliedAt": "2024-12-17T10:31:25Z"
      }
    },

    "10_CREATE_BGS_RECORD": {
      "method": "POST",
      "endpoint": "/bgs/records/",
      "body": {
        "bgsId": "426100",
        "bgsReference": "SU72SW51",
        "gridReferenceNorthings": 127200,
        "gridReferenceEastings": 472800,
        "quarterSheet": "SU72SW",
        "registrationNumber": "BGS-SU72SW-51"
      }
    },

    "11_CREATE_BGS_CLASSIFICATION": {
      "method": "POST",
      "endpoint": "/bgs/classifications/",
      "body": {
        "documentId": "01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K",
        "code": "Ac_15_75_50",
        "explanation": "Geological classification based on soil composition and depth analysis",
        "tooltip": "Alluvial clay with 15% sand content, 75% clay, 50% moisture",
        "appliedAt": "2024-12-17T10:31:25Z"
      }
    },

    "12_CREATE_ORGANISATION": {
      "method": "POST",
      "endpoint": "/organisations/",
      "body": {
        "name": "British Geological Survey",
        "originalName": "BGS",
        "purpose": "Geological survey and research",
        "type": "government"
      }
    },

    "13_CREATE_DATE_RECORD": {
      "method": "POST",
      "endpoint": "/date-records/",
      "body": {
        "date": "21st September, 1942",
        "parsedDate": "1942-09-21",
        "context": "Date of original borehole drilling",
        "documentId": "01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K"
      }
    },

    "14_CREATE_ENRICHER": {
      "method": "POST",
      "endpoint": "/enrichers/",
      "body": {
        "name": "BGS ID",
        "searchTerm": "BGS borehole \\d+",
        "body": "Extract BGS identification numbers from borehole records",
        "active": true
      }
    },

    "15_CREATE_EXTRACTION": {
      "method": "POST",
      "endpoint": "/extractions/",
      "body": {
        "enricherName": "BGS ID",
        "searchTerm": "BGS borehole \\d+",
        "value": "426100",
        "documentId": "01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K",
        "extractedAt": "2024-12-17T10:31:25Z"
      }
    },

    "16_CREATE_ADDRESS": {
      "method": "POST",
      "endpoint": "/addresses/",
      "body": {
        "fullAddress": "Petersfield, Hampshire, GU32 3DN, United Kingdom",
        "components": [
          "Petersfield",
          "Hampshire",
          "GU32 3DN",
          "United Kingdom"
        ],
        "documentId": "01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K",
        "addressType": "site"
      }
    },

    "17_CREATE_USER_EDIT": {
      "method": "POST",
      "endpoint": "/user-edits/",
      "body": {
        "documentId": "01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K",
        "field": "ISO4",
        "originalValue": "Unknown",
        "editedValue": "Geological Survey",
        "editedBy": "354a020c-cf84-4e30-afd3-07ba0b07c4fc",
        "editedAt": "2024-12-17T11:15:30Z",
        "reason": "Corrected based on document content analysis"
      }
    },

    "18_BULK_MIGRATE_DOCUMENTS": {
      "method": "POST",
      "endpoint": "/migrate/bulk-documents",
      "body": [
        {
          "id": "01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K",
          "name": "BGS borehole 426100 (SU72SW51).pdf",
          "label": "BGS borehole 426100 (SU72SW51).pdf",
          "size": 3040,
          "file_name": "BGS borehole 426100 (SU72SW51).pdf",
          "source": "sharepoint",
          "type": "application/pdf",
          "createdDateTime": "2024-12-17T10:31:25Z",
          "lastModifiedDateTime": "2024-12-17T10:31:25Z",
          "webUrl": "https://hoppa.sharepoint.com/sites/EngineeringDesign/Shared%20Documents/BGS%20borehole%20426100%20(SU72SW51).pdf",
          "downloadUrl": "https://hoppa.sharepoint.com/sites/EngineeringDesign/_layouts/15/download.aspx?share=EQNZjU2gJ3lOjZ2H8K9xBLkBr8vQ7YmPQr6LzVdGkF8qvA",
          "driveId": "01FCBACZFWRL22JSIMJAYZJ5UAYIDY36K",
          "siteId": "hoppa.sharepoint.com,5d2c3e4f-8a9b-4c5d-9e8f-1a2b3c4d5e6f",
          "status": "N/A",
          "description": "BGS borehole record for location 426100, reference SU72SW51"
        },
        {
          "id": "01FCBACZIFWRL22JSIMJAYZJ5UAYIDY37L",
          "name": "BGS borehole 426101 (SU72SW52).pdf",
          "label": "BGS borehole 426101 (SU72SW52).pdf",
          "size": 2850,
          "file_name": "BGS borehole 426101 (SU72SW52).pdf",
          "source": "sharepoint",
          "type": "application/pdf",
          "createdDateTime": "2024-12-17T10:32:10Z",
          "lastModifiedDateTime": "2024-12-17T10:32:10Z",
          "webUrl": "https://hoppa.sharepoint.com/sites/EngineeringDesign/Shared%20Documents/BGS%20borehole%20426101%20(SU72SW52).pdf",
          "downloadUrl": "https://hoppa.sharepoint.com/sites/EngineeringDesign/_layouts/15/download.aspx?share=EQNZjU2gJ3lOjZ2H8K9xBLkBr8vQ7YmPQr6LzVdGkF8qvB",
          "driveId": "01FCBACZFWRL22JSIMJAYZJ5UAYIDY36K",
          "siteId": "hoppa.sharepoint.com,5d2c3e4f-8a9b-4c5d-9e8f-1a2b3c4d5e6f",
          "status": "N/A",
          "description": "BGS borehole record for location 426101, reference SU72SW52"
        }
      ]
    },

    "19_SEARCH_DOCUMENTS": {
      "method": "POST",
      "endpoint": "/search/documents",
      "body": {
        "query": "BGS borehole Petersfield",
        "limit": 10,
        "offset": 0
      }
    },

    "20_GET_DOCUMENT": {
      "method": "GET",
      "endpoint": "/documents/01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K",
      "body": null
    },

    "21_GET_DOCUMENTS_LIST": {
      "method": "GET",
      "endpoint": "/documents/?limit=10&offset=0",
      "body": null
    },

    "22_UPDATE_DOCUMENT": {
      "method": "PUT",
      "endpoint": "/documents/01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K",
      "body": {
        "id": "01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K",
        "name": "BGS borehole 426100 (SU72SW51).pdf",
        "label": "BGS borehole 426100 (SU72SW51).pdf",
        "size": 3040,
        "file_name": "BGS borehole 426100 (SU72SW51).pdf",
        "source": "sharepoint",
        "type": "application/pdf",
        "createdDateTime": "2024-12-17T10:31:25Z",
        "lastModifiedDateTime": "2024-12-17T12:45:30Z",
        "webUrl": "https://hoppa.sharepoint.com/sites/EngineeringDesign/Shared%20Documents/BGS%20borehole%20426100%20(SU72SW51).pdf",
        "downloadUrl": "https://hoppa.sharepoint.com/sites/EngineeringDesign/_layouts/15/download.aspx?share=EQNZjU2gJ3lOjZ2H8K9xBLkBr8vQ7YmPQr6LzVdGkF8qvA",
        "driveId": "01FCBACZFWRL22JSIMJAYZJ5UAYIDY36K",
        "siteId": "hoppa.sharepoint.com,5d2c3e4f-8a9b-4c5d-9e8f-1a2b3c4d5e6f",
        "status": "processed",
        "description": "Updated BGS borehole record for location 426100, reference SU72SW51, containing geological survey data from the British Geological Survey. Classification completed."
      }
    },

    "23_GET_USER": {
      "method": "GET",
      "endpoint": "/users/354a020c-cf84-4e30-afd3-07ba0b07c4fc",
      "body": null
    },

    "24_GET_SESSION": {
      "method": "GET",
      "endpoint": "/sessions/soft-mails-cry",
      "body": null
    },

    "25_GET_DOCUMENT_CLASSIFICATIONS": {
      "method": "GET",
      "endpoint": "/documents/01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K/classifications",
      "body": null
    },

    "26_GET_BGS_RECORD": {
      "method": "GET",
      "endpoint": "/bgs/records/426100",
      "body": null
    },

    "27_GET_ANALYTICS_DOCUMENT_STATS": {
      "method": "GET",
      "endpoint": "/analytics/document-stats",
      "body": null
    },

    "28_GET_ANALYTICS_CLASSIFICATION_STATS": {
      "method": "GET",
      "endpoint": "/analytics/classification-stats",
      "body": null
    },

    "29_HEALTH_CHECK": {
      "method": "GET",
      "endpoint": "/health",
      "body": null
    },

    "30_DELETE_DOCUMENT": {
      "method": "DELETE",
      "endpoint": "/documents/01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K",
      "body": null
    }
  },

  "CURL_EXAMPLES": {
    "CREATE_DOCUMENT": "curl -X POST \"http://localhost:8000/documents/\" -H \"Content-Type: application/json\" -d '{\"id\":\"01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K\",\"name\":\"BGS borehole 426100 (SU72SW51).pdf\",\"label\":\"BGS borehole 426100 (SU72SW51).pdf\",\"size\":3040,\"file_name\":\"BGS borehole 426100 (SU72SW51).pdf\",\"source\":\"sharepoint\",\"type\":\"application/pdf\",\"createdDateTime\":\"2024-12-17T10:31:25Z\",\"lastModifiedDateTime\":\"2024-12-17T10:31:25Z\",\"webUrl\":\"https://hoppa.sharepoint.com/sites/EngineeringDesign/Shared%20Documents/BGS%20borehole%20426100%20(SU72SW51).pdf\",\"downloadUrl\":\"https://hoppa.sharepoint.com/sites/EngineeringDesign/_layouts/15/download.aspx?share=EQNZjU2gJ3lOjZ2H8K9xBLkBr8vQ7YmPQr6LzVdGkF8qvA\",\"driveId\":\"01FCBACZFWRL22JSIMJAYZJ5UAYIDY36K\",\"siteId\":\"hoppa.sharepoint.com,5d2c3e4f-8a9b-4c5d-9e8f-1a2b3c4d5e6f\",\"status\":\"N/A\",\"description\":\"BGS borehole record for location 426100, reference SU72SW51\"}'",

    "SEARCH_DOCUMENTS": "curl -X POST \"http://localhost:8000/search/documents\" -H \"Content-Type: application/json\" -d '{\"query\":\"BGS borehole Petersfield\",\"limit\":10,\"offset\":0}'",

    "GET_DOCUMENT": "curl -X GET \"http://localhost:8000/documents/01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K\"",

    "BULK_MIGRATE": "curl -X POST \"http://localhost:8000/migrate/bulk-documents\" -H \"Content-Type: application/json\" -d '[{\"id\":\"01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K\",\"name\":\"BGS borehole 426100 (SU72SW51).pdf\",\"label\":\"BGS borehole 426100 (SU72SW51).pdf\",\"size\":3040,\"file_name\":\"BGS borehole 426100 (SU72SW51).pdf\",\"source\":\"sharepoint\",\"type\":\"application/pdf\",\"createdDateTime\":\"2024-12-17T10:31:25Z\",\"lastModifiedDateTime\":\"2024-12-17T10:31:25Z\",\"webUrl\":\"https://hoppa.sharepoint.com/sites/EngineeringDesign/test.pdf\",\"downloadUrl\":\"https://hoppa.sharepoint.com/sites/EngineeringDesign/download.pdf\",\"driveId\":\"01FCBACZFWRL22JSIMJAYZJ5UAYIDY36K\",\"siteId\":\"hoppa.sharepoint.com,5d2c3e4f-8a9b-4c5d-9e8f-1a2b3c4d5e6f\",\"status\":\"N/A\",\"description\":\"BGS borehole record\"}]'"
  },

  "POSTMAN_COLLECTION": {
    "info": {
      "name": "Neo4j FastAPI Document Management System",
      "description": "Complete API test collection for document management system",
      "version": "1.0.0"
    },
    "item": [
      {
        "name": "Create User",
        "request": {
          "method": "POST",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": \"354a020c-cf84-4e30-afd3-07ba0b07c4fc\",\n  \"email\": \"tom@hoppa.ai\",\n  \"displayName\": \"Tom Goldsmith\"\n}"
          },
          "url": {
            "raw": "{{base_url}}/users/",
            "host": ["{{base_url}}"],
            "path": ["users", ""]
          }
        }
      },
      {
        "name": "Create Document",
        "request": {
          "method": "POST",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "body": {
            "mode": "raw",
            "raw": "{\n  \"id\": \"01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K\",\n  \"name\": \"BGS borehole 426100 (SU72SW51).pdf\",\n  \"label\": \"BGS borehole 426100 (SU72SW51).pdf\",\n  \"size\": 3040,\n  \"file_name\": \"BGS borehole 426100 (SU72SW51).pdf\",\n  \"source\": \"sharepoint\",\n  \"type\": \"application/pdf\",\n  \"createdDateTime\": \"2024-12-17T10:31:25Z\",\n  \"lastModifiedDateTime\": \"2024-12-17T10:31:25Z\",\n  \"webUrl\": \"https://hoppa.sharepoint.com/sites/EngineeringDesign/Shared%20Documents/BGS%20borehole%20426100%20(SU72SW51).pdf\",\n  \"downloadUrl\": \"https://hoppa.sharepoint.com/sites/EngineeringDesign/_layouts/15/download.aspx?share=EQNZjU2gJ3lOjZ2H8K9xBLkBr8vQ7YmPQr6LzVdGkF8qvA\",\n  \"driveId\": \"01FCBACZFWRL22JSIMJAYZJ5UAYIDY36K\",\n  \"siteId\": \"hoppa.sharepoint.com,5d2c3e4f-8a9b-4c5d-9e8f-1a2b3c4d5e6f\",\n  \"status\": \"N/A\",\n  \"description\": \"BGS borehole record for location 426100, reference SU72SW51\"\n}"
          },
          "url": {
            "raw": "{{base_url}}/documents/",
            "host": ["{{base_url}}"],
            "path": ["documents", ""]
          }
        }
      }
    ],
    "variable": [
      {
        "key": "base_url",
        "value": "http://localhost:8000"
      }
    ]
  },

  "PYTHON_TEST_SCRIPT": {
    "description": "Python script using requests library to test all endpoints",
    "code": "import requests\nimport json\nfrom datetime import datetime\n\nBASE_URL = 'http://localhost:8000'\n\ndef test_create_user():\n    data = {\n        'id': '354a020c-cf84-4e30-afd3-07ba0b07c4fc',\n        'email': 'tom@hoppa.ai',\n        'displayName': 'Tom Goldsmith'\n    }\n    response = requests.post(f'{BASE_URL}/users/', json=data)\n    print(f'Create User: {response.status_code} - {response.json()}')\n    return response.status_code == 200\n\ndef test_create_document():\n    data = {\n        'id': '01FCBACZIFWRL22JSIMJAYZJ5UAYIDY36K',\n        'name': 'BGS borehole 426100 (SU72SW51).pdf',\n        'label': 'BGS borehole 426100 (SU72SW51).pdf',\n        'size': 3040,\n        'file_name': 'BGS borehole 426100 (SU72SW51).pdf',\n        'source': 'sharepoint',\n        'type': 'application/pdf',\n        'createdDateTime': '2024-12-17T10:31:25Z',\n        'lastModifiedDateTime': '2024-12-17T10:31:25Z',\n        'webUrl': 'https://hoppa.sharepoint.com/sites/EngineeringDesign/test.pdf',\n        'downloadUrl': 'https://hoppa.sharepoint.com/sites/EngineeringDesign/download.pdf',\n        'driveId': '01FCBACZFWRL22JSIMJAYZJ5UAYIDY36K',\n        'siteId': 'hoppa.sharepoint.com,5d2c3e4f-8a9b-4c5d-9e8f-1a2b3c4d5e6f',\n        'status': 'N/A',\n        'description': 'BGS borehole record for location 426100'\n    }\n    response = requests.post(f'{BASE_URL}/documents/', json=data)\n    print(f'Create Document: {response.status_code} - {response.json()}')\n    return response.status_code == 200\n\ndef test_search_documents():\n    data = {\n        'query': 'BGS borehole Petersfield',\n        'limit': 10,\n        'offset': 0\n    }\n    response = requests.post(f'{BASE_URL}/search/documents', json=data)\n    print(f'Search Documents: {response.status_code} - {response.json()}')\n    return response.status_code == 200\n\ndef run_all_tests():\n    print('Starting API tests...')\n    test_create_user()\n    test_create_document()\n    test_search_documents()\n    print('Tests completed!')\n\nif __name__ == '__main__':\n    run_all_tests()"
  }
}
